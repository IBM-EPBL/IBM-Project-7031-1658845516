<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <!-- JavaScript Bundle with Popper -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/sha512.js"></script>

    <title>Smart Waste Mangement System</title>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

</head>

<body>

    <script>
        $(document).ready(function () {
            $('.login').hide();
            $('.ui').hide();
            $('#registerAlert').hide();
            $('#loginAlert').hide();
        });
    </script>

    <script>
        function getValue(id) {
            return document.getElementById(id).value;
        }

        function getElement(id) {
            return document.getElementById(id);
        }

        function confirmPassword() {
            if (getValue('registerPassword') === getValue('confirmRegisterPassword'))
                register();
            else
                $('#registerAlert').show();
            clearAll()
        }

        function register() {
            let emailId = getValue('registerEmail');
            let password = getValue('registerPassword');
            localStorage.setItem(emailId, password.trim());
            $('.register').hide();
            $('.login').show();
            clearAll();
        }

        function login() {
            let emailId = getValue('loginEmail')
            let password = getValue('loginPassword')

            if (localStorage.getItem(emailId) === password) {
                $('.login').hide();
                $('.ui').show();
            } else {
                $('#loginAlert').show();
            }
            clearAll();

        }

        function clearAll() {
            getElement("registerEmail").value = "";
            getElement("registerPassword").value = "";
            getElement("confirmRegisterPassword").value = "";
            getElement("loginEmail").value = "";
            getElement("loginPassword").value = "";
        }
    </script>



    <h1 class="text-center p-5 bg-light text-success">Smart Waste Management Portal</h1>

    <div class="container w-50 register">
        <h1 class="text-center p-3 bg-dark text-light" onsubmit="confirmPassword()">Register</h1>
        <form class="bg-light p-3" onsubmit="confirmPassword()">
            <div class="form-group">
                <label for="exampleInputEmail1">Email address</label>
                <input type="email" class="form-control" id="registerEmail" aria-describedby="emailHelp"
                    placeholder="Enter email" required>
            </div>
            <div class="form-group">
                <label for="exampleInputPassword1">Password</label>
                <input type="password" class="form-control" id="registerPassword" placeholder="Password" required>
            </div>
            <div class="form-group">
                <label for="exampleInputPassword2">Confirm Password</label>
                <input type="password" class="form-control" id="confirmRegisterPassword" placeholder="Confirm Password"
                    required>
            </div>
            <div class="alert alert-danger" id="registerAlert" role="alert">
                Passwords not matching !!
            </div>
            <div class="form-group">
                <small><a href="#" onclick="$('.register').hide(); $('.login').show()">Already a user?</a></small>
            </div>
            <button type="submit" class="btn btn-primary">Register</button>
        </form>
    </div>

    <div class="container w-50 p-5 login">
        <h1 class="text-center p-3 bg-dark text-light">Login</h1>
        <form class="bg-light p-3">
            <div class="form-group">
                <label for="exampleInputEmail1">Email address</label>
                <input type="email" class="form-control" id="loginEmail" aria-describedby="emailHelp"
                    placeholder="Enter email" required>
            </div>
            <div class="form-group">
                <label for="exampleInputPassword1">Password</label>
                <input type="password" class="form-control" id="loginPassword" placeholder="Password" required>
            </div>
            <div class="form-group form-check">
                <input type="checkbox" class="form-check-input" id="exampleCheck1">
                <label class="form-check-label" for="exampleCheck1">Save Email Address</label>
            </div>
            <div class="alert alert-danger" id="loginAlert" role="alert">
                Password incorrect !!
            </div>
            <div class="form-group">
                <small><a href="#" onclick="$('.login').hide(); $('.register').show()">New user?</a></small>
            </div>
            <a type="submit" class="btn btn-primary" href="ui.html">Login</a>
        </form>
    </div>

</body>

</html>